"use strict";function Cart(){this.$cart=$("#buy"),this.$buys=$("#addToCart"),this.addEvent(),this.init(),this.inpits=$("#ip"),this.num=1}Cart.prototype={constructor:Cart,addEvent:function(){this.$buys.click(function(){location.href="#";var t=$(".goods").attr("data-good-id"),n=$(".hdtitle").text(),o=$(".money2").text(),i=$(".img1").attr("src"),r=window.localStorage,s=r.getItem("products")?r.getItem("products"):"",s=convertStrToObj(s);t in s?s[t].num++:s[t]={name:n,src:i,price:o,num:1},r.setItem("products",JSON.stringify(s))})},init:function(){var i=this;$(".suls").click(function(){var t=$(".goods").attr("data-good-id"),n=window.localStorage,o=n.getItem("products")?n.getItem("products"):"",o=convertStrToObj(o);1<o[t].num&&o[t].num--,n.setItem("products",JSON.stringify(o)),$(".suls").value=o[t].num,i.inpits.val(o[t].num),1<i.num&&i.num--,$(".nums").text(o[t].num),$(".gross").text(o[t].price*o[t].num)}),$(".puls").click(function(){var t=$(".goods").attr("data-good-id"),n=window.localStorage,o=n.getItem("products")?n.getItem("products"):"",o=convertStrToObj(o);o[t].num++,n.setItem("products",JSON.stringify(o)),i.value=o[t].num,i.inpits.val(o[t].num),$(".nums").text(o[t].num),$(".gross").text(o[t].price*o[t].num)})}},new Cart;